<div class="content flex" [@slide]="(sideNavVisible$ | async) ? 'close' : 'open'">
    <h1 *ngIf="contactId == 0" class="govuk-heading-xl page-title">Add another contact</h1>
    <h1 *ngIf="contactId != 0" class="govuk-heading-xl page-title">Edit organisation contact details</h1>
    <div class="govuk-grid-row">
        <div class="govuk-grid-column-three-quarters">
          <form class="govuk-!-width-three-quarters" [class.error]="!formValid(contactForm)" [formGroup]="contactForm">
            <div class="govuk-form-group" *ngIf="formValid(contactForm) == false && submitted">
              <div class="govuk-error-summary govuk-grid-column-three-quarters" aria-labelledby="error-summary-title" role="alert" tabindex="-1" data-module="govuk-error-summary">
                <h2 class="govuk-error-summary__title" id="error-summary-title"> There is a problem</h2>
                <div class="govuk-error-summary__body">
                  <ul class="govuk-list govuk-error-summary__list">
                    <a *ngIf="contactForm.controls['name'].hasError('required')"><li>Enter your name</li></a>
                    <a *ngIf="contactForm.controls['email'].hasError('required')"><li>Enter your email address</li></a>
                    <a *ngIf="contactForm.controls['email'].hasError('email')"><li>Enter an email address in the correct format, like name@example.com</li></a>
                    <a *ngIf="contactForm.controls['phone'].hasError('required')"><li>Please enter a phone number</li></a>
                  </ul>
                </div>
              </div>
            </div>
            <div class="govuk-form-group" [class.govuk-form-group--error]="submitted && contactForm.controls.name.invalid">
              <label class="govuk-label" for="name">Contact name</label>
              <span id="name-error" class="govuk-error-message" *ngIf="submitted && contactForm.controls.name.invalid">
                <span class="govuk-visually-hidden">Error:</span>Enter your name
              </span>
              <input class="govuk-input" id="name" formControlName="name" maxlength="100" name="name" size="20" type="text" value="" autocomplete="name" [class.govuk-input--error]="submitted && contactForm.controls.name.invalid">
            </div>
            <div class="govuk-form-group" [class.govuk-form-group--error]="submitted && contactForm.controls.email.invalid">
              <label class="govuk-label" for="email">Email</label>
              <span id="email-error" class="govuk-error-message" *ngIf="submitted && contactForm.controls.email.invalid">
                <span class="govuk-visually-hidden">Error:</span>Enter your email
              </span>
              <input class="govuk-input" id="email" formControlName="email" maxlength="100" name="email" size="20" type="text" value="" autocomplete="email" [class.govuk-input--error]="submitted && contactForm.controls.email.invalid">
            </div>
            <div class="govuk-form-group" [class.govuk-form-group--error]="submitted && contactForm.controls.phone.invalid">
                <label class="govuk-label" for="phone">Telephone number</label>
                <span id="phone-error" class="govuk-error-message" *ngIf="submitted && contactForm.controls.phone.invalid">
                  <span class="govuk-visually-hidden">Error:</span>Enter your telephone number
                </span>
                <input class="govuk-input" id="phone" formControlName="phone" maxlength="100" name="phone" size="20" type="text" value="" autocomplete="phone number" [class.govuk-input--error]="submitted && contactForm.controls.phone.invalid">
            </div>
            <div class="govuk-form-group govuk-button-group">
              <button class="govuk-!-font-size-18 govuk-!-font-weight-bold govuk-button" data-module="govuk-button" (click)="onSubmit(contactForm)">Save changes</button>
              <button class="govuk-button govuk-button--secondary" data-module="govuk-button" (click)="onCancelClick()">Cancel</button>
            </div>
            <div class="govuk-form-group govuk-button-group" *ngIf="contactId != 0">
                <button class="govuk-!-font-size-18 govuk-!-font-weight-bold govuk-button govuk-button--warning" data-module="govuk-button" (click)="onDeleteClick($event)">Delete details</button>
            </div>
          </form>
        </div>
    </div>
</div>